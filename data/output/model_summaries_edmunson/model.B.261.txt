introduction this implementation of motion activated lighting implements a finite state machine to ensure that entitycontroller does not interfere with the rest of your home automation setup.