pxacid パッケージ latex：aj1 フォントの従属欧文の tfm 生成 adobejapan1 の cid 対応の opentype フォントの欧文部分の字形を latex で 用いるために必要な一連のファイル（メトリックファイル、フォント定義 ファイル、マップファイル、等） を xetex を利用して自動生成するための perl スクリプトである（使用に関しては xetex である必要はない）。 ot1・t1・ly1・ts1 エンコーディングに対応、また aj1 に含まれるイタリック 字形をイタリックシェープのフォントとして使うことも可能。 前提環境 pxacid スクリプトの実行には以下のものが必要。 xetex 0.997 版以降 ppltotf： ptex の配布物に含まれる opl2ofm／ovp2ovf： omega の配布物に含まれる perl （5.8.1 版以降ならok） スクリプトの実行で得られるフォント（tfm） は以下の dvi ウェアで使用できる。 dvipdfmx インストール 一般的な perl スクリプトに準じる。 以下の解説では、このスクリプトが のコマンド名で実行されることを 想定する。 ※インストールせずに直接 perl コマンドで実行してもよい。この場合、 コマンド名の を に読み替える。 対象フォント pxacid／pxpjcid が処理できるフォントは、adobejapan1 の cid（あるいは 同等の gid）に従う opentype フォントに限られます。 ただし、windows（8.1／10）付属の游明朝・游ゴシックについては、（aj1 の cid から規則的にずれた gid に従うため） というオプション を指定することで処理できます。 ライセンス mitライセンスの下で配布される。 pxacid.pl 使い方 コマンドライン書式は以下の通り。 pxacid オプション... ファミリシリーズ フォントファイル名 と は当該フォントに対応させる nfss のファミリと シリーズの名前を指定する。シリーズの既定値は （標準）である。 対象のフォントはフォント名（「ほげら明朝 pr6n r」とか）ではなくファイル名 （hogeraminpr6nr.otf とか）で指定する。フォントファイルは kpathsearch で検索可能なディレクトリに置く。（ファイル名で検索しているので「xetex の フォント名探索」で検出できる必要はない。） オプションは次の通り。 append： 追記モード。当該のファミリのフォント定義ファイル （.fd）とマップファイル（.map）が既に（カレントディレクトリに）ある 場合は上書きせずにその中に新しい項目を追記する。 buseberry： tex フォント名（tfm ファイルのベース名）に 「berry 命名規則」（xxxri7t のような形式）を採用する。既定は「zr 命名規則（謎）」（xxxriot1 のような形式）である。 ttfmfamily名前： tex フォント名の「ファミリ名」の部分 （前項の xxx の部分；berry 規則の場合「ベンダ名ファミリ名」に相当 する）の名前を指定する。この名前の既定値は引数の ファミリ に指定 した名前（つまり nfss でのファミリ名）である。 ligature値： リガチャをどれだけ有効にするかを指定する。有効な 値は次の通り。 2： 全て有効にする（既定） 1： fリガチャ以外を有効にする 0： 全て無効にする minkern値： フォントに含まれるペアカーニング情報で大きさが この値（単位はデザインサイズ）未満のものを無視する。既定値は 0.01。 slant値： 斜体（slanted；シェープ sl）の傾斜値（tfm の slant 値）を指定する。斜体はこの値に基づいて機械的に変形させた字形になる。 既定値は 0.167。なお、イタリック（シェープ it）の傾斜値は自動的に推定 されるが、もしそれが失敗した場合はイタリックにもここで指定した値が 使われる。（こちらは字形には影響しない。） iindex値： opentype collection 形式のファイル（.ttc／.otc） を指定する場合に、対象のフォントのインデックス番号を指定する。 scale： latex レベルにおいて、ユーザがフォントサイズのスケール値を 指定できるようにする。pxacid が出力する簡易パッケージ pxacidfam（fam はファミリ名）については、オプションにスケール値を指定できる。 usepackage0.95pxacidfam 簡易パッケージを用いない場合のスケール値の指定方法を知りたい場合は、 パッケージファイル pxacidfam.sty の中を参照してほしい。 gidoffset値： tfm が参照する gid の値として、実際の aj1 の cid に対し指定の値を加算したものを用いる。某フォントファイルを扱う ための裏技的対策。 pxacid は以下のファイルを生成する。（fam はファミリ名） fam.tfm： tfm ファイル fam.ofm： ofm ファイル fam.vf： vf ファイル pdfmfam.map： dvipdfmx 用のマップファイル fam.fd： フォント定義ファイル pxacidfam.sty： 簡易パッケージファイル pxacidtestfam.tex： テスト用ファイル 参照 pxacid を用いた作業手順については以下のサイトを参照されたい。 en toi pythmeni tes texnopoleos ～電脳世界の奥底にて～ pxacid パッケージ ～aj1 フォントの従属欧文の tfm 生成～ httpzrbabbler.sp.land.topxacid.html pxpjcid.pl ― おまけ プロポーショナルな仮名文字をもつ和文 tfm を作成するプログラム、らしい。 pxpjcid オプション... ファミリシリーズ フォントファイル名 以下のオプションは pxacid と同様。 aappend ttfmfamily名前 iindex値 gidoffset値 その他のオプション。 scale値： nfss における和文スケール値を指定する。既定値は 0.924715。 更新履歴 version 0.4.0 〈20170817〉 t1 のリガチャ指定の間違いを修正（thanks：doratex 氏） ligature オプションを新設。 version 0.3.1 〈20170421〉 munepi 氏による改修を取り入れた。 scale オプションを新設。 index オプションを新設（otc ファイル対応）。 version 0.3.0 〈20170419〉 version 0.2.4 〈20130104〉 pxacid.pl gidoffset オプションを追加。 version 0.2.3 〈20110217〉 最初の公開版 takayuki yato aka.