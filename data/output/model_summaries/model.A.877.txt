param registryinterface registry param userpasswordencoderinterface encoder public function constructregistryinterface registry userpasswordencoderinterface encoder parentconstructregistry usersclass thismanager registrygetentitymanager thisencoder encoder as always we need to inject it to the repository yaml apiconfigservices.yaml services ....... repositories app.user.repository class apprepositoryusersrepository arguments symfonybridgedoctrineregistryinterface symfonycomponentsecuritycoreencoderuserpasswordencoderinterface update the create user function php apisrcrepositoryusersrepository.php public function createnewuserdata user new users usersetemaildataemail setpasswordthisencoderencodepassworduser datapassword ....... now try the register call again rembmer with diffrent email as we defined the email as unique bash curl x post h contenttype applicationjson httplocalhost8080registeremailtest2mail.compasswordtest2 user test2mail.com successfully created check now again bash api select from users id email roles password 6 test1mail.com test1 7 test2mail.com argon2iv19m1024t2p2vw9tyxezzhp5u0rmse5ydabov1x6rgyz4ebnbs1cpzsfdqdx3duu3hvfuii8m 2 rows install lexikjwtauthenticationbundle install the bundle and generate the secrets bash dockercompose exec php composer require jwtauth create our authentication additional before anything if you tried this call for now you will get this result bash curl x get h contenttype applicationjson httplocalhost8080greetings context contextsgreeting id greetings type hydracollection hydramember hydratotalitems 0 let us keep going for now create a new so simple endpoint that we will use it in our testing now will call it api php apisrccontrollerauthcontroller.php api route redirects return response public function api return new responsesprintflogged in as s thisgetusergetusername add it to our routesyaml apiconfigroutes.yaml api path api controller appcontrollerauthcontrollerapi methods post now we need to make some configurations in our security config file first of all this our provider to our authentication or anything related to users in the application.